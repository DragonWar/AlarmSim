<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
<!-- justmainandleft -->

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="DESCRIPTION" content="">
<meta name="ROBOTS" content="INDEX,FOLLOW">
<meta name="resource-type" content="document">
<meta http-equiv="expires" content="0">
<meta name="author" content="AVR Freaks">
<meta name="copyright" content="Copyright (c) 2004 by AVR Freaks">
<meta name="revisit-after" content="1 days">
<meta name="distribution" content="Global">
<meta name="generator" content="PostNuke 0.7.6.2 - http://postnuke.com">
<meta name="rating" content="General">
<meta name="KEYWORDS" content="">

<title>View topic - OBD not responding on a Honda ECU :: AVR Freaks</title>

<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/freaks.js"></script>
<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/behaviour.js"></script>
<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/behaviours.js"></script>
<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/prototype.js"></script>
<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/addBuddy.js"></script>
<script type="text/javascript" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/url.js"></script>

<script src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-1473358-1";
urchinTracker();
</script>

<link rel="stylesheet" href="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/style.css" media="screen, projection" type="text/css">
<link rel="stylesheet" href="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/print.css" media="print" type="text/css">
<link rel="icon" href="http://www.avrfreaks.net/themes/FreakCyber/images/favicon.png" type="image/png">
<link rel="alternate" type="application/rss+xml" title="Latest Forum Posts" href="http://www.avrfreaks.net/forumrss.php">
<link rel="alternate" type="application/rss+xml" title="Latest Tools" href="http://www.avrfreaks.net/index.php?module=FreaksFeed&amp;func=view&amp;item_module=FreaksTools&amp;item_type=tool&amp;item_id=*">
<link rel="alternate" type="application/rss+xml" title="Latest Devices" href="http://www.avrfreaks.net/index.php?module=FreaksFeed&amp;func=view&amp;item_module=FreaksDevices&amp;item_type=device&amp;item_id=*">
<link rel="alternate" type="application/rss+xml" title="Latest Projects" href="http://www.avrfreaks.net/index.php?module=FreaksFeed&amp;func=view&amp;item_module=FreaksAcademy&amp;item_type=project&amp;item_id=*">
<link rel="alternate" type="application/rss+xml" title="Latest News" href="http://www.avrfreaks.net/backend.php">

<link rel="StyleSheet" href="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/FreakCyber.css" type="text/css">




<style type="text/css">body{background: url('/themes/FreakCyber/images/fc_pattern_forum.gif');}</style>
<!--[if !IE]>-->
<style type="text/css">
#fc_bg_right {background: url('/themes/FreakCyber/images/fc_pattern_forum_br.png');background-repeat: no-repeat;background-position: left 9px;}
#fc_bg_left {background: url('/themes/FreakCyber/images/fc_pattern_forum_bl.png');background-repeat: no-repeat;background-position: right 9px;}
</style>
<!--<![endif]-->


<link href="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/notification.css" type="text/css" rel="stylesheet"><script src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/notification.js" type="text/javascript"></script><script type="text/javascript">
if(typeof(freecauseNotification) === "undefined") {
	var freecauseNotification = {};
	function defineFreecauseNotification() {
		freecauseNotification = FREECAUSE.notification;
	}
	function checkFCNExists() {
		if(window.FREECAUSE === undefined || window.FREECAUSE.notification === undefined) window.setTimeout("checkFCNExists()", 100); else defineFreecauseNotification();
	}
	checkFCNExists();
}</script></head>

<body>
<table id="wrap2" border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr style="height:0px;">
    <td class="tablewidth"></td>
    <td></td>
    <td class="tablewidth"></td>
  </tr>
  <tr>
    <td id="fc_bg_left">&nbsp;</td>
    <td id="main" align="left" valign="top">
      <table style="height:100%;width:100%" border="0" cellpadding="0" cellspacing="0">
        <tbody><tr>
          <td valign="top">
            <div id="header">
              <h1 id="mainheader"><a href="http://www.avrfreaks.net/"><span>AVRFreaks.net</span></a></h1>
              <div id="topbanner">
<a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=a49bcba6" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_004.gif" alt="" border="0"></a>
              </div>
              <div id="mainmenu">
                <ul>
                  <li><a class="forum" href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index"><span>Forum</span></a></li>
                  <li><a class="devices" href="http://www.avrfreaks.net/index.php?module=FreaksDevices"><span>Devices</span></a></li>
                  <li><a class="tools" href="http://www.avrfreaks.net/index.php?module=FreaksTools"><span>Tools</span></a></li>
                  <li><a class="projects" href="http://www.avrfreaks.net/index.php?module=FreaksAcademy&amp;func=viewProjects"><span>Projects</span></a></li>
                  <li><a class="vendors" href="http://www.avrfreaks.net/index.php?module=FreaksVendors"><span>Vendors</span></a></li>
                  <li><a class="articles" href="http://www.avrfreaks.net/index.php?module=FreaksArticles"><span>Articles</span></a></li>
                  <li><a class="wiki" href="http://wiki.avrfreaks.net/"><span>Wiki</span></a></li>
                </ul>
              </div>
            </div>
            <div id="theme_header">
              <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/fc_forum.gif" usemap="#themeheader" alt="Forum Menu" border="0" width="871" height="44">
<map name="themeheader">
  <area shape="poly" coords="0,0,83,0,83,23,0,23" title="Forum" href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index">
  <area shape="poly" coords="231,42, 213,28, 306,28, 324,42" title="Search Forum" href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=search">
</map>

            </div>
            <table id="wrap" cellpadding="0" cellspacing="0">
              <tbody><tr>
                <td id="leftcolumn" valign="top">
                  
<div class="bordertop"></div>
<div class="borderbottom"></div><form action="user.php" method="post"><div>
<label for="uname">User name</label><br>
<input name="uname" id="uname" size="14" maxlength="25" tabindex="0" value="User name" onblur="if(this.value=='')this.value='User name';" onfocus="if(this.value=='User name')this.value='';" type="text"><br><label for="pass">Password</label><br>
<input name="pass" id="pass" size="14" maxlength="20" tabindex="0" type="password"><br>
<input value="1" name="rememberme" id="rememberme" tabindex="0" type="checkbox">
&nbsp;<label for="rememberme">Remember me</label>
<br>
<input name="module" value="User" type="hidden">
<input name="op" value="login" type="hidden">
<input name="url" value="/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;highlight=obd" type="hidden">
<input title="Cookies must be enabled past this point." value="Log-in" type="submit"><br>
<br><a href="http://www.avrfreaks.net/user.php?op=lostpassscreen&amp;module=LostPassword">Log in Problems?</a><br>New User? <a href="http://www.avrfreaks.net/user.php?op=register&amp;module=NewUser">Sign Up!</a></div></form>

<div class="bordertop"></div>
<div class="borderbottom"></div><div id="lc_search"><table cellpadding="0" cellspacing="0">
  <tbody><tr>
    <td><h3>Search</h3></td>
    <td class="adv_search"><a href="http://www.avrfreaks.net/index.php?name=Search" title="Advanced search"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/fc_search.gif" alt="Advanced search"></a></td>
  </tr>
</tbody></table>
<form method="post" action="index.php">
<table cellpadding="0" cellspacing="0">
<tbody><tr>
<td><input class="search" name="q" size="14" type="text"></td>
<td id="search_submit"><input src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/fc_search_submit.gif" value="Search" type="image"></td>
</tr>
</tbody></table>
<input name="name" value="Search" type="hidden">
<input name="action" value="search" type="hidden">
<input name="overview" value="1" type="hidden">
<input name="active_devices" value="1" type="hidden">
<input name="active_tools" value="1" type="hidden">
<input name="active_stories" value="1" type="hidden">
<input name="stories_topics" value="" type="hidden">
<input name="stories_author" value="" type="hidden">
<input name="active_vendors" value="1" type="hidden">
<input name="country" value="0" type="hidden">
<input name="active_pnphpbb2" value="1" type="hidden">
<input name="active_projects" value="1" type="hidden">
<input name="active_articles" value="1" type="hidden">
</form></div>
<div class="bordertop"></div>
<div class="borderbottom"></div><div style="width:100%;text-align: center;margin-bottom: 10px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=a70cb778&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_002.gif" alt="" border="0"></a> </div> <div style="width:100%;text-align: center;margin-bottom: 10px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=a9b9d4c5&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_006.gif" alt="" border="0"></a> </div> <div style="width:100%;text-align: center;margin-bottom: 10px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=afc1c120&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_005.gif" alt="" border="0"></a> </div> <div style="width:100%;text-align: center;margin-bottom: 10px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=a47cf5fd&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_003.gif" alt="" border="0"></a> </div> <div style="width:100%;text-align: center;margin-bottom: 10px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=a9e87036&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw_007.gif" alt="" border="0"></a></div> <div style="width:100%;text-align: center;margin-bottom: 0px"> <a href="http://www.avrfreaks.net/openx/www/delivery/ck.php?n=afe29300&amp;cb=INSERT_RANDOM_NUMBER_HERE" target="_blank"><img class="abfbhbgiqaltezmkrymh" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/avw.gif" alt="" border="0"></a></div> 
                </td>
                <td id="maincolumn" valign="top"><div class="content_box">
	<div class="content">
<a name="top" id="top"></a>
<table class="bodyline" border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr>
    <td align="center" valign="top">
            <table class="topbkg" border="0" cellpadding="1" cellspacing="2" width="100%">
        <tbody><tr>
          <td align="center" valign="top"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/logo.gif" alt="AVR Freaks Forum Index" title="AVR Freaks Forum Index" border="0"></a></td>
        </tr>
      </tbody></table>
            <table class="navbar" border="0" cellpadding="2" cellspacing="1" width="100%">
        <tbody><tr align="center">
          <td>
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=faq"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_faq.gif" alt="FAQ" title="FAQ" border="0"> FAQ</a>&nbsp; •&nbsp;
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=search"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_search.gif" alt="Search" title="Search" border="0"> Search</a>&nbsp; •&nbsp;
                                    <a href="http://www.avrfreaks.net/user.php"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_register.gif" alt="Register" title="Register" border="0"> Register</a>&nbsp; •&nbsp;
                                    <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;folder=inbox"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_message.gif" alt="Log in to check your private messages" title="Log in to check your private messages" border="0"> Log in to check your private messages</a>
          </td>
        </tr>
        <tr align="center">
          <td>
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=login"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_login.gif" alt="Log in" title="Log in" border="0"> Log in</a>
                                    &nbsp;• &nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index&amp;minmax=1"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mini_max.gif" alt="Maximize" title="Maximize" border="0"> Maximize</a>
                        &nbsp;• &nbsp;<a href="http://www.avrfreaks.net/forumrss.php"><img class="inlineimg" src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rss_tracker.gif" alt="RSS-feeds" title="RSS-feeds" border="0"> RSS</a>
                      </td>
        </tr>
      </tbody></table>
	      <br clear="all">
      
			<table border="0" cellpadding="5" cellspacing="0" width="100%">
				<tbody><tr>
					<td>
                    
<table border="0" cellpadding="2" cellspacing="0" width="100%">
  <tbody><tr>
    <td class="nav" align="left" valign="top">
      <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;start=0&amp;postdays=0&amp;postorder=asc&amp;highlight=obd"><span class="maintitle">OBD not responding on a Honda ECU</span></a>
      <br>&nbsp;    </td>
    <!-- <td class="gensmall" align="right" valign="bottom"><a href="index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=next">View next topic</a><br />
<a href="index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=previous">View previous topic</a><br />
<a href="index.php?name=PNphpBB2&amp;file=printview&amp;t=66297&amp;start=0" target="_blank" title="Printable version">Printable version</a><br />
<br />
<strong></strong><br />
</td> -->
  </tr>
</tbody></table>

<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody><tr>
    <td class="nav" valign="top" width="100%">
      <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index" class="nav">AVR Freaks Forum Index</a>&nbsp;»&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index&amp;c=6" class="nav">General Electronics Technical Forums</a>&nbsp;»&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewforum&amp;f=16" class="nav">General Electronics</a>
    </td>
    <td align="right"></td>
  </tr>
  <tr>
    <td align="left" nowrap="nowrap">
      <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=newtopic&amp;f=16"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/post.gif" alt="Post new topic" title="Post new topic" border="0" width="82" height="25"></a>&nbsp;&nbsp;&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=reply&amp;t=66297"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/reply.gif" alt="Reply to topic" title="Reply to topic" border="0" width="82" height="25"></a>
    </td>
    <td nowrap="nowrap">
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=previous"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_previous.gif" alt="View previous topic" title="View previous topic" border="0" width="15" height="25"></a></td> 
<td></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=66297&amp;start=0" target="_blank"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_print.gif" alt="Printable version" title="Printable version" border="0" width="24" height="25"></a></td>
<td></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;folder=inbox"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/pm_no_new.gif" alt="Log in to check your private messages" title="Log in to check your private messages" border="0" width="24" height="25"></a></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=next"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_next.gif" alt="View next topic" title="View next topic" border="0" width="14" height="25"></a></td>
</tr>
</tbody></table>
    </td> 
  </tr>
</tbody></table>
<table class="forumline" border="0" cellspacing="1" width="100%">
    <tbody><tr>
    <th class="th" width="20%">Author</th>
    <th class="th" width="80%">Message</th>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="465418"></a><strong>Jevin</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=465418#465418"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Jul 11, 2008 - 04:56 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/7448741834695ba41397bf.jpg" alt="" border="0"><br><br>
            Joined: Jun 16, 2004<br>
            Posts: 167<br>
            Location: Lafayette, IN<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">I'm working on a small LCD 
milage indicator that will receive its info via the ODB II interface on 
my car. To ease the development, I bought a 99' automatic Civic ECU off 
of ebay so I can have a test ECU on my desk instead of having to haul 
all of my dev stuff out to my car. I've wrote the code to initialize the
 ECU over the ISO 9141-2 link but the Civic ECU doesn't respond to the 
initialization command. I hauled all of my stuff out to my Accord to 
test my link on its ECU and the ECU responded to the initialization 
command just fine. Thus, my link is OK but the Civic ECU isn't 
responding for some reason. I still need the Civic ECU to develop the 
rest of the <b style="color:#FFA34F">OBD</b> software without hassle.
<br>

<br>
I <a href="http://www.importtuner.com/tech/impp_0101_reading_ecu_trouble_codes/index.html" target="_blank" class="postlink">shorted out</a>
 the service check signal (SCS) and the check engine light blinked out 6
 trouble codes. Rightly so, given that the ECU is running without any of
 its peripherals attached. Still, the <b style="color:#FFA34F">OBD</b> 
link should work to spit out all these trouble codes. Anyways, that 
means the ECU is alive to some extent. On the ECU I've hooked up IGP1/2 
(switched 12V), PG1/2 (power ground), LG1/2 (logic ground), VBU (voltage
 backup, always on 12V), and of course the K-line (<b style="color:#FFA34F">OBD</b> link), MIL, and SCS. <a href="http://technet.ff-squad.com/wiring.obd2b.htm" target="_blank" class="postlink">Here</a>
 is a pin-out of the ECU with all of its signals. Am I missing some 
connection that I have to make or what? Has anybody else done a bench 
test of an ECU? What did you have to do to get the decapitated ECU 
working? Thanks for your help. <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_biggrin.gif" alt="Very Happy" border="0">
<br>

<br>
Here is a list of the trouble codes it spit out through the malfunction indicator light:
<br>
<ol type="1">
<br>
<li>Auto transmission malfunction
<br>
</li><li>VTEC oil pressure switch malfunction
<br>
</li><li>Electrical load detector malfunction
<br>
</li><li>Idle air control valve malfunction
<br>
</li><li>Engine coolant temp. sensor malfunction
<br>
</li><li>Intake air temp. sensor malfunction
<br>
</li></ol>
<br>

<br>
Once this is done I will publish the schematics, PCB, and code. I also 
might take orders for an assembled kit. It will display stats like 
mileage and temperatures on a character LCD, but also provide an <b style="color:#FFA34F">OBD</b> link to your computer via USB. <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_smile.gif" alt="Smile" border="0"></td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Math is cool.
<br>
<a href="http://www.jevinskie.com/" target="_blank" class="postlink">www.jevinskie.com</a></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  <a href="http://www.jevinskie.com/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=465418"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="465488"></a><strong>icarus1</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=465488#465488"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Jul 11, 2008 - 10:34 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank5.gif" alt="Posting Freak" title="Posting Freak" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/372749050509a22f33cb2a.jpg" alt="" border="0"><br><br>
            Joined: May 26, 2004<br>
            Posts: 1394<br>
            Location: Thessaloniki, Hellas<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Did you try to do something 
else, let's say to read the battery voltage or to callibrate the battery
 voltage, or even to turn off the mil lamp?
<br>

<br>
I am saying this because this is a good way to test if your device works
 ok. If this test will pass then it prooves that there may be a bug in 
your fault memory read function.
<br>

<br>
I hope this helps.
<br>

<br>
Michael.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Michael.
<br>

<br>
User of:
<br>
IAR Embedded Workbench C/C++ Compiler
<br>
Altium Designer</span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=66009"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=66009"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=465488"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="465623"></a><strong>Jevin</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=465623#465623"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Jul 11, 2008 - 05:52 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/7448741834695ba41397bf.jpg" alt="" border="0"><br><br>
            Joined: Jun 16, 2004<br>
            Posts: 167<br>
            Location: Lafayette, IN<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Michael,
<br>

<br>
I haven't actually gotten to any of the fault reading yet, I'm just 
trying to send the initialization command (0x33 at 5 baud). The command 
was accepted and responded to with my actual car's ECU but not with the 
ECU I'm trying to bench test.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Math is cool.
<br>
<a href="http://www.jevinskie.com/" target="_blank" class="postlink">www.jevinskie.com</a></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  <a href="http://www.jevinskie.com/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=465623"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="468261"></a><strong>brophreak</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=468261#468261"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Jul 18, 2008 - 06:22 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank0.gif" alt="Newbie" title="Newbie" border="0"><br><br><br>
            Joined: Jul 19, 2004<br>
            Posts: 19<br>
            <br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">OBD2 is a lot of fun, but 
it's hard to find good information. There are a ton of sites out there, 
but most lack a lot of information and some are plain wrong. The ISO 
standards are hard to read and are expensive, but are very thorough.
<br>

<br>
Check this out, lots of good info:
<br>
<!-- m --><a href="http://sterntech.com/obdii_protocols_iso.php" target="_blank">http://sterntech.com/obdii_protocols_iso.php</a><!-- m -->
<br>

<br>
Also good, but no initialization info:
<br>
<!-- m --><a href="http://www.obddiagnostics.com/obdinfo/info.html" target="_blank">http://www.obddiagnostics.com/obdinfo/info.html</a><!-- m -->
<br>

<br>
Good group to join and look at the Files section or search messages:
<br>
<!-- m --><a href="http://tech.groups.yahoo.com/group/opendiag" target="_blank">http://tech.groups.yahoo.com/group/opendiag</a><!-- m -->
<br>

<br>
The wikipedia entry is somewhat informative as well:
<br>
<!-- m --><a href="http://en.wikipedia.org/wiki/Obd" target="_blank">http://en.wikipedia.org/wiki/<b style="color:#FFA34F">Obd</b></a><!-- m -->
<br>

<br>
In short, you may be missing the Keyword interaction with the benchtop 
ECU (see sterntech link). It is possible your Accord doesn't care about 
Keywords, but the Civic does.
<br>

<br>
Hope that helps! Good luck.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=468261"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="474715"></a><strong>Magister</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=474715#474715"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 06, 2008 - 08:16 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><br><br>
            Joined: Aug 06, 2008<br>
            Posts: 146<br>
            Location: Montréal, QC<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">I am working on a project to display instant MPG and others information on a LCD in car.
<br>

<br>
One "branch" is taping injector and VSS to calculate and display, it works.
<br>

<br>
I am working on the OBD2 branch, with an Arduino board (ATMEGA168P) and a
 MC33290 chip, however my ECU never answer to my init command (0x33 at 5
 bauds).
<br>

<br>
As yours is working maybe you could help us debugging either the hardware or the software <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_wink.gif" alt="Wink" border="0"> 
<br>

<br>
The main project page is here
<br>
<!-- m --><a href="http://code.google.com/p/opengauge" target="_blank">http://code.google.com/p/opengauge</a><!-- m -->
<br>

<br>
The obduino source code (GPL) is in the trunk
<br>
<!-- m --><a href="http://code.google.com/p/opengauge/source/browse/#svn/trunk" target="_blank">http://code.google.com/p/opengauge/sour ... #svn/trunk</a><!-- m -->
<br>

<br>
We have a development forum at
<br>
<!-- m --><a href="http://ecomodder.com/forum/opengauge-mpguino-fe-computer.html" target="_blank">http://ecomodder.com/forum/opengauge-mp ... puter.html</a><!-- m -->
<br>

<br>
You are working in C? would you share your source?</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=474715"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="474836"></a><strong>Jevin</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=474836#474836"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 01:11 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/7448741834695ba41397bf.jpg" alt="" border="0"><br><br>
            Joined: Jun 16, 2004<br>
            Posts: 167<br>
            Location: Lafayette, IN<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Sure, here is the init 
function. I just send address 0x33 and my Accord's ECU responded 
correctly. I didn't bother using the UART for such a slow baud, just 
software bit toggling. Let me know if you have any questions. Good luck!
 <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_smile.gif" alt="Smile" border="0">
<br>

<br>
For anyone wondering, the ECU has a faulty BJT on the K-line, go figure. I can't get a hold of the seller either. <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_sad.gif" alt="Sad" border="0">
<br>

<br>

<div class="codetitle"><b>Code:</b></div><div class="codecontent">

<br>
void send_address(uint8_t addr) {
<br>
&nbsp; &nbsp;uint8_t i;
<br>
&nbsp; &nbsp;uint8_t temp;
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;/* idle high */
<br>
&nbsp; &nbsp;TX_PORT |= _BV(TX_BIT);
<br>
&nbsp; &nbsp;TX_DDR&nbsp; |= _BV(TX_BIT);
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;/* required idle delay w0 (2ms), be safe with 4ms */
<br>
&nbsp; &nbsp;_delay_ms(4);
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;/* start bit */
<br>
&nbsp; &nbsp;TX_PORT &amp;= ~_BV(TX_BIT);
<br>
&nbsp; &nbsp;/* this is at 5bps */
<br>
&nbsp; &nbsp;_delay_ms(200);
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;/* send byte */
<br>
&nbsp; &nbsp;for (i = 0; i &lt; 8; i++) {
<br>
&nbsp; &nbsp; &nbsp; temp = (addr &gt;&gt; i) &amp; 0x01;
<br>
&nbsp; &nbsp; &nbsp; if (((TX_PORT &amp; _BV(TX_BIT)) &gt;&gt; TX_BIT) == temp) {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;/* already at the correct level, do nothing */
<br>
&nbsp; &nbsp; &nbsp; } else {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if (0 != temp) {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX_PORT |= _BV(TX_BIT);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;} else {
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; TX_PORT &amp;= ~_BV(TX_BIT);
<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}
<br>
&nbsp; &nbsp; &nbsp; }
<br>
&nbsp; &nbsp; &nbsp; _delay_ms(200);
<br>
&nbsp; &nbsp;}
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;TX_PORT |= _BV(TX_BIT);
<br>
&nbsp; &nbsp;_delay_ms(200);
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;/* already idling high on TX */
<br>
&nbsp; &nbsp;
<br>
&nbsp; &nbsp;return;
<br>
}
<br>

</div>
</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Math is cool.
<br>
<a href="http://www.jevinskie.com/" target="_blank" class="postlink">www.jevinskie.com</a></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  <a href="http://www.jevinskie.com/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=474836"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="474885"></a><strong>Jevin</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=474885#474885"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 04:45 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/7448741834695ba41397bf.jpg" alt="" border="0"><br><br>
            Joined: Jun 16, 2004<br>
            Posts: 167<br>
            Location: Lafayette, IN<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Here is the schematic, for 
completeness. The voltage divider is a poor way of doing the RX side, 
the specs for ODB-II interface say that the voltage can vary quite a 
bit. This circuit could easily go over 5V on the RX pin if that is the 
case.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Math is cool.
<br>
<a href="http://www.jevinskie.com/" target="_blank" class="postlink">www.jevinskie.com</a></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  <a href="http://www.jevinskie.com/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=474885"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="474893"></a><strong>DocJC</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=474893#474893"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 05:12 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank6.gif" alt="Raving lunatic" title="Raving lunatic" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/540814454c2aa08ba1ab2.jpg" alt="" border="0"><br><br>
            Joined: Dec 11, 2007<br>
            Posts: 7674<br>
            Location: Cleveland, OH<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Jevin,
<br>

<br>
I've never played with the ODB II bus.  So take my thoughts with a grain
 of salt...  I have, however, put several uC's in vehicles.
<br>

<br>
If the K-line is not already protected, and has potentially lots of 
spikes and noise, how about putting a simple reverse biased 5 V Zener 
diode across R3?
<br>

<br>
This would clamp that line to about 5 V, protecting your input.
<br>

<br>
JC</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=159529"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=159529"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a> <a href="mailto:Doc@DocJC.US"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_email.gif" alt="Send e-mail" title="Send e-mail" border="0" width="59" height="18"></a> <a href="http://www.docjc.us/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=474893"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="474917"></a><strong>Jevin</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=474917#474917"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 07:33 AM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/7448741834695ba41397bf.jpg" alt="" border="0"><br><br>
            Joined: Jun 16, 2004<br>
            Posts: 167<br>
            Location: Lafayette, IN<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Magister,
<br>

<br>
I've looked at the code in obduino.pde and the init routine looks fine, 
as long as the supporting functions are correct. You do know that the 
baud sync byte is 8-bits while the keywords are 7-bits with a parity 
bit? Why did you choose to bit-bang the UART instead of use the hardware
 UART (I'm assuing the Arduino has functions to use the 168's hardware 
UART). Are you sure your car is using ISO 9141 and not KWP2000?
<br>

<br>
-Jevin</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Math is cool.
<br>
<a href="http://www.jevinskie.com/" target="_blank" class="postlink">www.jevinskie.com</a></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=67656"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  <a href="http://www.jevinskie.com/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=474917"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475039"></a><strong>Magister</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475039#475039"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 03:58 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><br><br>
            Joined: Aug 06, 2008<br>
            Posts: 146<br>
            Location: Montréal, QC<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">I am using the "Freescale MC33290 ISO K Line" chip, you can see the schematics of our setup here:
<br>
<!-- m --><a href="http://code.google.com/p/opengauge/wiki/OBDuinoDiagram" target="_blank">http://code.google.com/p/opengauge/wiki/OBDuinoDiagram</a><!-- m -->
<br>
It's a all-in-one chip that does all the signal conversion, it includes 
something like 75 transistors and is used in others similar design.
<br>

<br>
The UART of the duino board is used to upload new code and send debug 
info on it. The K line is drived through 2 digital pin for the 5 bauds 
as well as the 10400 bauds.
<br>

<br>
My init function to send the 0x33 at 5 bauds seems right, I monitored the output with a scope and timing are correct.
<br>

<br>
I made the 3 init functions, iso9141 and iso14230 (kwp) fast and slow. 
My car should answer to both ISO, as well as CANs, I am wondering if 
it's CAN only  <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_eek.gif" alt="Shocked" border="0"> It's a 07 Hyundai.
<br>

<br>
It's just that my car answer nothing after the 0x33 <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_sad.gif" alt="Sad" border="0"> the K line is always high and I never receive a start bit from the ECU. I put the scope in the car on the K line to monitor it!</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475039"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475059"></a><strong>brophreak</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475059#475059"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 05:06 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank0.gif" alt="Newbie" title="Newbie" border="0"><br><br><br>
            Joined: Jul 19, 2004<br>
            Posts: 19<br>
            <br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Magister,
<br>

<br>
By no means am I an expert, but I have a few more thoughts and I have 
been down this road. Hopefully Jevin doesn't mind too much that we are 
hijacking his thread.
<br>

<br>
I don't know what kind of scope you are using, but the 10.4kbps response
 may be hard to see relative to watching the 5bps address go out, 
depending on the resolution of your scope. You are trying to see a few 
ms of reponse right after seconds of response.
<br>

<br>
Along the same line of thought, the accuracy of your 5bps may be more 
critical than you are able to eyeball. As Jevin says, the way to do this
 is use the USART. (The disadvantage is that you cannot detect 
collisions on the bit level.) With the clock prescaler register and the 
UBRR, you should be able to set the USART to 5bps VERY accurately. I 
don't know anything about the Arduino, though. I wrote some routines in C
 that I could share if it helps.
<br>

<br>
If your car is KWP2000, you should still get a response with the slow 
init, but the keywords will be 0x94 0x94 as in Jevin's figure above 
instead of 0x08 0x08.
<br>

<br>
If your car is both CAN and ISO/KWP, your ECU may be on the CAN bus but 
only other systems (ABS, etc...) on the ISO bus. In that case, the ECU 
can only answer from the CAN bus.
<br>

<br>
Since you have a 2007 Model Year and all US cars (maybe Canada, too?) 
are required to be CAN bus by 2008 model year, Hyundai may have 
implemented it early and you are out of luck. In that case, find a 
friend with an ISO protocol car and try it on his/hers. Once you 
determine that it works, try it on yours.
<br>

<br>
Also, keep in mind in the big picture that <b style="color:#FFA34F">OBD</b> is relatively slow. Retrieving MAF and MPH, if they change rapidly, may lead to errors in sampling.
<br>

<br>
OpenGuage looks like it could be a great DIY project.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475059"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475129"></a><strong>barnacle</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475129#475129"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 07:55 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank6.gif" alt="Raving lunatic" title="Raving lunatic" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/105642177043ee65e3002ea.jpg" alt="" border="0"><br><br>
            Joined: Jan 03, 2006<br>
            Posts: 4687<br>
            Location: Hemel Hemsptead, UK<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">On most AVRs, you can get 5 baud *only* if the master clock is under 327kHz or so - you need to bit bang it.
<br>

<br>
I've successfully initialised Bosch pre-<b style="color:#FFA34F">obd</b> units using a 200ms bit period but the spec has stated +/- 10%</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Neil Barnes
<br>
<!-- w --><a href="http://www.nailed-barnacle.co.uk/" target="_blank">www.nailed-barnacle.co.uk</a><!-- w --></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=105018"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=105018"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a> <a href="mailto:nailed_barnacle@hotmail.com"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_email.gif" alt="Send e-mail" title="Send e-mail" border="0" width="59" height="18"></a> <a href="http://www.nailed-barnacle.co.uk/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475129"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475146"></a><strong>brophreak</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475146#475146"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 08:44 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank0.gif" alt="Newbie" title="Newbie" border="0"><br><br><br>
            Joined: Jul 19, 2004<br>
            Posts: 19<br>
            <br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">Not to step on anyone's 
(barnacle's) toes, but that is something to consider in more detail. Is 
it possible to scale the system clock (CLKPR) and USART (UBRR) low 
enough? I don't know the Arduino, but my experience is on the mega169 
(Butterfly). There, I used the 8MHz internal RC clock. I don't have my 
datasheets, notes, or code with me to go through it right now, though.
<br>

<br>
From memory, I scaled the system clock down by a factor of 128 to 
62.5kHz. The UBRR is 12 bits, which allows a huge reduction to the USART
 baud rate.
<br>

<br>
It looks like the Arduino boards use the mega168. I would assume the 
same thing is possible there, if this is the case, by just skimming the 
datasheet.
<br>

<br>
barnacle, I have looked at your project in the past. It is nice work. 
You are dealing with KW1281 or some variant, correct? Is the 10% spec 
for ISO, or specific to Bosch/KW1281/OBD1? In any case, unless measured 
precisely, it may be difficult to just eyeball 10% on a scope.
<br>

<br>
There are many variables to consider and I didn't read up on Magister's code or the Arduino in detail.</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=69998"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475146"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475171"></a><strong>Magister</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475171#475171"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 09:40 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><br><br>
            Joined: Aug 06, 2008<br>
            Posts: 146<br>
            Location: Montréal, QC<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">The scope is an Agilent 
54622D, the resolution is fine and the timming is right to the ms, I 
even put the trigger on the line and as far as I can tell, my ECU does 
not answer <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_sad.gif" alt="Sad" border="0">. I can see in the init when I send the 0xc1,0x33,0xf1,0x81,0x66 on the scope.
<br>

<br>
I will ask some co-workers to test on their cars, or find a "true" scanner and sniff what it does.
<br>

<br>
Damn, I hope my car is not CAN only!!
<br>

<br>
The arduino is a small dev board, all the info are here:
<br>
<!-- w --><a href="http://www.arduino.cc/" target="_blank">www.arduino.cc</a><!-- w -->
<br>
It uses the "wiring" API so it's easier to play with I/O and things like this, then it uses avr-gcc to compile the source.
<br>

<br>
For Opengauge we want an easy "DIY" project: buy an arduino kit or an 
already built one, a few plugs/wires, download the Arduino IDE, 
copy/paste the source and click on "upload to board" and voil�.
<br>

<br>
PS: sorry Jevin for the thread hijack!</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475171"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475225"></a><strong>barnacle</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475225#475225"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 07, 2008 - 11:10 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank6.gif" alt="Raving lunatic" title="Raving lunatic" border="0"><br><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/105642177043ee65e3002ea.jpg" alt="" border="0"><br><br>
            Joined: Jan 03, 2006<br>
            Posts: 4687<br>
            Location: Hemel Hemsptead, UK<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row1">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">bro, I don't know where I 
got the spec, somewhere on the net. Both the ECUs I talk to claim 
ISO9141, but having discovered at the time that the 33290 was only 
available in tens of thousands, I played around with a few inverters and
 ended up with a level slicer - a low-voltage op-amp and a reference 
voltage.
<br>

<br>
When I was using a 5v supply I had no problems, but the 3.3v supply made
 it a bit more problematical. Although a half-rail version *should* have
 worked, it was fine on the Magneti Marelli ECUs but not happy on Bosch.
 I've ended up pushing the slice reference as high as I reliably can 
before the chip sulks - 2.07 volts - though it appears to be marginal at
 1.8v and stable at 2.0v which is somewhat more than 10%
<br>

<br>
In a redesign, I'd probably put the slicer in the 12v side and pad down the output to 0-5v.
<br>

<br>
I'm thinking of the M32, and haven't investigated the others in detail, 
but the UBRR registers - 12 bits - divide the master clock. Best you can
 get internally is 1MHz, but that limits around 16 baud (and all the 
stability options previously noted with internal clocks and uarts). 
Externally, hmm, haven't investigated in detail, but it might be 
possible to run it in slave mode with an externally generated signal and
 a bit of wire.
<br>

<br>
But I had a convenient internal 10ms tick that I could hook, so I did. <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_mrgreen.gif" alt="Mr. Green" border="0">
<br>

<br>
Neil</td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"><br>_________________<br>Neil Barnes
<br>
<!-- w --><a href="http://www.nailed-barnacle.co.uk/" target="_blank">www.nailed-barnacle.co.uk</a><!-- w --></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row1" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=105018"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=105018"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a> <a href="mailto:nailed_barnacle@hotmail.com"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_email.gif" alt="Send e-mail" title="Send e-mail" border="0" width="59" height="18"></a> <a href="http://www.nailed-barnacle.co.uk/" target="_userwww"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_www.gif" alt="Visit poster's website" title="Visit poster's website" border="0" width="59" height="18"></a>&nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475225"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
    <tr>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
          <td valign="middle">
            <span class="name"><a name="475620"></a><strong>Magister</strong></span>          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table border="0" cellpadding="3" cellspacing="0" width="100%">
        <tbody><tr>
					<td class="postdetails" width="100%">
            <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;p=475620#475620"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_minipost.gif" alt="Post" title="Post" border="0" width="12" height="9"></a><b>Posted:</b> Aug 08, 2008 - 11:43 PM          </td>
				</tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" rowspan="2" valign="top">
      <table border="0" cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td>
            <span class="postdetails"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/rank3.gif" alt="Hangaround" title="Hangaround" border="0"><br><br><br>
            Joined: Aug 06, 2008<br>
            Posts: 146<br>
            Location: Montréal, QC<br>
            <br>
            </span>
            <!-- <img src="./modules/PNphpBB2/templates/PNTheme/images/spacer.gif" alt="" width="150" height="1" /> -->
          </td>
        </tr>
      </tbody></table>
    </td>
    <td class="row2">
      <table cellpadding="5" cellspacing="0" width="100%">
        <tbody><tr>
          <td class="postbody" valign="top">It seems my car is CAN only so I may take another way (ELM327 for instance) <img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_sad.gif" alt="Sad" border="0"></td>
        </tr>
        <tr>
          <td class="genmed" valign="bottom" height="40">
          <!-- Begin PNphpBB2 Attachment Mod -->
                      <!-- End PNphpBB2 Attachment Mod -->
            <span class="postbody"></span>
            <span class="gensmall"></span>
          </td>
        </tr><tr>
        </tr><tr>
	        <td class="gensmall" align="right">  &nbsp;</td>
	      </tr>
      </tbody></table>
    </td>
  </tr>
  <tr>
    <td class="row2" nowrap="nowrap" valign="bottom">
      <div class="gensmall" style="float:left">&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=profile&amp;mode=viewprofile&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_profile.gif" alt="View user's profile" title="View user's profile" border="0" width="59" height="18"></a> <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;mode=post&amp;u=182718"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_pm.gif" alt="Send private message" title="Send private message" border="0" width="59" height="18"></a>  &nbsp;</div>
      <div class="gensmall" style="float:right"><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=quote&amp;p=475620"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_quote.gif" alt="Reply with quote" title="Reply with quote" border="0" width="59" height="18"></a>  <a href="#top"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/icon_up.gif" alt="Back to top" title="Back to top" border="0" width="19" height="18"></a></div>
    </td>
  </tr>
      <tr>
    <td class="cat" colspan="2" height="28">
      <table align="center" border="0" cellpadding="2" cellspacing="0">
        <tbody><tr>
          <td>
            <form method="post" action="index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;start=0">
            <table align="center" border="0" cellpadding="0" cellspacing="0">
	            <tbody><tr align="center"> 
		            <td nowrap="nowrap">
                  Display posts from previous:&nbsp;&nbsp;<select name="postdays"><option value="0" selected="selected">All Posts</option><option value="1">1 Day</option><option value="7">7 Days</option><option value="14">2 Weeks</option><option value="30">1 Month</option><option value="90">3 Months</option><option value="180">6 Months</option><option value="364">1 Year</option></select>&nbsp;<select name="postorder"><option value="asc" selected="selected">Oldest First</option><option value="desc">Newest First</option></select>&nbsp;&nbsp;
                  <input value="Go" class="catbutton" name="submit" type="submit">
                </td>
              </tr>
            </tbody></table>
            </form>
          </td>
        </tr>
        <tr align="center">
          <td><form method="post" name="jumpbox" action="index.php?name=PNphpBB2&amp;file=viewforum" onsubmit="if(document.jumpbox.f.value == -1){return false;}">
<table align="center" border="0" cellpadding="0" cellspacing="0">
	<tbody><tr align="center"> 
		<td nowrap="nowrap">
      <span class="gensmall">
        Jump to:&nbsp;<select name="f" onchange="if(this.options[this.selectedIndex].value != -1){ forms['jumpbox'].submit() }"><option value="-1">Select a forum</option><option value="-1">&nbsp;</option><option value="-1">Forum index</option><option value="-1">|--[AVR (8-bit) Technical Forums]</option><option value="3">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR forum</option><option value="22">|&nbsp;&nbsp;&nbsp;|--&nbsp;XMEGA forum</option><option value="24">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR Wireless forum</option><option value="2">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR GCC forum</option><option value="23">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR Studio 5 and Atmel Studio 6 forum</option><option value="7">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR studio 4 forum</option><option value="5">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVRfreaks Academy forum</option><option value="11">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR Tutorials</option><option value="-1">|--[AVR Software Framework]</option><option value="21">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR Software Framework</option><option value="-1">|--[AVR32 (32-bit) Technical Forums]</option><option value="12">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR32 Linux Forum</option><option value="13">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR32 General (standalone)</option><option value="14">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR32 Software Tools</option><option value="15">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVR32 Hardware</option><option value="-1">|--[General Electronics Technical Forums]</option><option value="16" selected="selected">|&nbsp;&nbsp;&nbsp;|--&nbsp;General Electronics</option><option value="20">|&nbsp;&nbsp;&nbsp;|--&nbsp;Atmel Security Products</option><option value="-1">|--[Non-technical forums]</option><option value="4">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVRfreaks.net Housekeeping</option><option value="-1">|--[Non-topical forums]</option><option value="9">|&nbsp;&nbsp;&nbsp;|--&nbsp;Off-topic forum</option><option value="8">|&nbsp;&nbsp;&nbsp;|--&nbsp;AVRfreaks Trading Post</option></select><input name="sid" value="b90b00fa2361041c81ea3c2131c36696" type="hidden"><input name="op" value="modload" type="hidden"><input name="name" value="PNphpBB2" type="hidden"><input name="file" value="viewforum" type="hidden"><input name="sid" value="" type="hidden">&nbsp;
        <input value="Go" class="liteoption" type="submit">
      </span>
    </td>
	</tr>
</tbody></table>
</form>

</td>
        </tr> 
      </tbody></table>
    </td>
  </tr>
</tbody></table>

<table border="0" cellpadding="2" cellspacing="2" width="100%">
  <tbody><tr>
    <td colspan="3" align="right" valign="top">
      <div class="gensmall">All times are GMT + 1 Hour</div>
    </td>
  </tr>
  <tr>
    <td align="left" nowrap="nowrap">
      <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=newtopic&amp;f=16"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/post.gif" alt="Post new topic" title="Post new topic" border="0" width="82" height="25"></a>&nbsp;&nbsp;&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=posting&amp;mode=reply&amp;t=66297"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/reply.gif" alt="Reply to topic" title="Reply to topic" border="0" width="82" height="25"></a>
    </td>
    <td colspan="2" nowrap="nowrap"><table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=previous"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_previous.gif" alt="View previous topic" title="View previous topic" border="0" width="15" height="25"></a></td> 
<td></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=printview&amp;t=66297&amp;start=0" target="_blank"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_print.gif" alt="Printable version" title="Printable version" border="0" width="24" height="25"></a></td>
<td></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=privmsg&amp;folder=inbox"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/pm_no_new.gif" alt="Log in to check your private messages" title="Log in to check your private messages" border="0" width="24" height="25"></a></td>
<td><a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=next"><img src="View%20topic%20-%20OBD%20not%20responding%20on%20a%20Honda%20ECU%20%20%20AVR%20Freaks_files/topic_next.gif" alt="View next topic" title="View next topic" border="0" width="14" height="25"></a></td>
</tr>
</tbody></table>
</td>
  </tr>
  <tr>
    <td class="nav" valign="top">&nbsp;</td>
    <td rowspan="2" align="right" valign="top"></td>
  </tr>
  <tr>
    <td class="nav" width="100%">
      &nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index" class="nav">AVR Freaks Forum Index</a>&nbsp;»&nbsp;<a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=index&amp;c=6" class="nav">General Electronics Technical Forums</a>&nbsp;»&nbsp;      <a href="http://www.avrfreaks.net/index.php?name=PNphpBB2&amp;file=viewforum&amp;f=16" class="nav">General Electronics</a>
    </td>
  </tr>
</tbody></table>
<table border="0" cellpadding="2" cellspacing="0" width="100%">
  <tbody><tr>
    <td class="gensmall" align="right" valign="top">
      <!-- <strong></strong><br />
<br />
<a href="index.php?name=PNphpBB2&amp;file=printview&amp;t=66297&amp;start=0" target="_blank" title="Printable version">Printable version</a><br />
<a href="index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=previous">View previous topic</a><br />
<a href="index.php?name=PNphpBB2&amp;file=viewtopic&amp;t=66297&amp;view=next">View next topic</a><br />
-->
      <!-- You <b>cannot</b> post new topics in this forum<br />You <b>cannot</b> reply to topics in this forum<br />You <b>cannot</b> edit your posts in this forum<br />You <b>cannot</b> delete your posts in this forum<br />You <b>cannot</b> vote in polls in this forum<br />You <b>cannot</b> attach files in this forum<br />You <b>cannot</b> download files in this forum<br /> -->
    </td>
  </tr>
</tbody></table>

<table border="0" cellpadding="3" cellspacing="1" width="100%">
<tbody><tr>
<td class="gensmall" style="text-align:center" align="center">Powered by <a style="text-decoration:none;" href="http://www.pnphpbb.com/" target="_blank"><b><i>PN</i></b><b>phpBB2</b></a>&nbsp;© 2003-2006&nbsp;The PNphpBB Group<br><a href="http://www.avrfreaks.net/modules/PNphpBB2/docs/copyrite.html" onclick="window.open('./modules/PNphpBB2/docs/copyrite.html', '_pnphpbb2_credits', 'HEIGHT=250,WIDTH=450,scrollbars=yes');return false;">Credits</a> </td>
</tr>
</tbody></table>

<a name="bot" id="bot"></a>
					</td>
				</tr>
			</tbody></table>
		</td>
	</tr>
</tbody></table>

</div>
</div>            </td>
          </tr>
        </tbody></table>
      </td>
    </tr>
  </tbody></table>
  </td><td id="fc_bg_right">&nbsp;</td>
  </tr>
</tbody></table>

</body></html>